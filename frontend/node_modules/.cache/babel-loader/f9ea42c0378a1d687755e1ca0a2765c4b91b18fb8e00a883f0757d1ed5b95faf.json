{"ast":null,"code":"var _jsxFileName = \"/Users/utsavaggarwal/Documents/NutriDive/frontend/src/components/ChatPanel.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { MessageCircle, Send, X, Loader2 } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { ScrollArea } from \"./ui/scroll-area\";\nimport { cn } from \"../lib/utils\";\nimport axios from \"axios\";\nimport { toast } from \"sonner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = `${process.env.REACT_APP_BACKEND_URL}/api`;\nexport default function ChatPanel({\n  barcode,\n  productName,\n  isOpen,\n  onToggle\n}) {\n  _s();\n  const [messages, setMessages] = useState([{\n    role: \"assistant\",\n    content: `Hi! I'm your food analysis assistant. Ask me anything about ${productName || \"this product\"}.`\n  }]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const scrollRef = useRef(null);\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messages]);\n  const sendMessage = async () => {\n    if (!input.trim() || isLoading) return;\n    const userMessage = {\n      role: \"user\",\n      content: input.trim()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput(\"\");\n    setIsLoading(true);\n    try {\n      const response = await axios.post(`${API}/chat`, {\n        barcode,\n        message: userMessage.content,\n        history: messages\n      });\n      setMessages(prev => [...prev, {\n        role: \"assistant\",\n        content: response.data.response\n      }]);\n    } catch (error) {\n      console.error(\"Chat error:\", error);\n      toast.error(\"Failed to get response. Please try again.\");\n      setMessages(prev => [...prev, {\n        role: \"assistant\",\n        content: \"Sorry, I encountered an error. Please try again.\"\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  if (!isOpen) {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      onClick: onToggle,\n      className: \"fixed bottom-20 right-6 rounded-full h-14 w-14 shadow-lg z-[60]\",\n      \"data-testid\": \"chat-toggle\",\n      \"x-file-name\": \"ChatPanel\",\n      \"x-line-number\": \"72\",\n      \"x-component\": \"Button\",\n      \"x-id\": \"ChatPanel_72\",\n      \"x-dynamic\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n        className: \"h-6 w-6\",\n        \"x-file-name\": \"ChatPanel\",\n        \"x-line-number\": \"77\",\n        \"x-component\": \"MessageCircle\",\n        \"x-id\": \"ChatPanel_77\",\n        \"x-dynamic\": \"false\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-6 right-6 w-96 max-w-[calc(100vw-3rem)] bg-card border rounded-xl shadow-2xl flex flex-col overflow-hidden z-50\",\n    style: {\n      height: \"500px\",\n      maxHeight: \"calc(100vh - 8rem)\"\n    },\n    \"data-testid\": \"chat-panel\",\n    \"x-file-name\": \"ChatPanel\",\n    \"x-line-number\": \"83\",\n    \"x-component\": \"div\",\n    \"x-id\": \"ChatPanel_83\",\n    \"x-dynamic\": \"false\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-4 border-b bg-muted/50\",\n      \"x-file-name\": \"ChatPanel\",\n      \"x-line-number\": \"89\",\n      \"x-component\": \"div\",\n      \"x-id\": \"ChatPanel_89\",\n      \"x-dynamic\": \"false\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        \"x-file-name\": \"ChatPanel\",\n        \"x-line-number\": \"90\",\n        \"x-component\": \"div\",\n        \"x-id\": \"ChatPanel_90\",\n        \"x-dynamic\": \"false\",\n        children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n          className: \"h-5 w-5 text-primary\",\n          \"x-file-name\": \"ChatPanel\",\n          \"x-line-number\": \"91\",\n          \"x-component\": \"MessageCircle\",\n          \"x-id\": \"ChatPanel_91\",\n          \"x-dynamic\": \"false\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-heading font-semibold\",\n          \"x-file-name\": \"ChatPanel\",\n          \"x-line-number\": \"92\",\n          \"x-component\": \"span\",\n          \"x-id\": \"ChatPanel_92\",\n          \"x-dynamic\": \"false\",\n          children: \"Ask about this product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"ghost\",\n        size: \"icon\",\n        onClick: onToggle,\n        className: \"h-8 w-8\",\n        \"data-testid\": \"chat-close\",\n        \"x-file-name\": \"ChatPanel\",\n        \"x-line-number\": \"94\",\n        \"x-component\": \"Button\",\n        \"x-id\": \"ChatPanel_94\",\n        \"x-dynamic\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScrollArea, {\n      className: \"flex-1 p-4\",\n      ref: scrollRef,\n      \"x-file-name\": \"ChatPanel\",\n      \"x-line-number\": \"106\",\n      \"x-component\": \"ScrollArea\",\n      \"x-id\": \"ChatPanel_106\",\n      \"x-dynamic\": \"true\",\n      \"x-excluded\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        \"x-file-name\": \"ChatPanel\",\n        \"x-line-number\": \"107\",\n        \"x-component\": \"div\",\n        \"x-id\": \"ChatPanel_107\",\n        \"x-dynamic\": \"true\",\n        children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cn(\"flex\", message.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n          \"x-file-name\": \"ChatPanel\",\n          \"x-line-number\": \"109\",\n          \"x-component\": \"div\",\n          \"x-id\": \"ChatPanel_109\",\n          \"x-dynamic\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cn(\"max-w-[85%] rounded-2xl px-4 py-2\", message.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"bg-muted\"),\n            \"data-testid\": `chat-message-${message.role}`,\n            \"x-file-name\": \"ChatPanel\",\n            \"x-line-number\": \"116\",\n            \"x-component\": \"div\",\n            \"x-id\": \"ChatPanel_116\",\n            \"x-dynamic\": \"true\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm whitespace-pre-wrap\",\n              \"x-file-name\": \"ChatPanel\",\n              \"x-line-number\": \"125\",\n              \"x-component\": \"p\",\n              \"x-id\": \"ChatPanel_125\",\n              \"x-dynamic\": \"true\",\n              children: message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          \"x-file-name\": \"ChatPanel\",\n          \"x-line-number\": \"130\",\n          \"x-component\": \"div\",\n          \"x-id\": \"ChatPanel_130\",\n          \"x-dynamic\": \"false\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-muted rounded-2xl px-4 py-2\",\n            \"x-file-name\": \"ChatPanel\",\n            \"x-line-number\": \"131\",\n            \"x-component\": \"div\",\n            \"x-id\": \"ChatPanel_131\",\n            \"x-dynamic\": \"false\",\n            children: /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"h-4 w-4 animate-spin\",\n              \"x-file-name\": \"ChatPanel\",\n              \"x-line-number\": \"132\",\n              \"x-component\": \"Loader2\",\n              \"x-id\": \"ChatPanel_132\",\n              \"x-dynamic\": \"false\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t bg-muted/30\",\n      \"x-file-name\": \"ChatPanel\",\n      \"x-line-number\": \"140\",\n      \"x-component\": \"div\",\n      \"x-id\": \"ChatPanel_140\",\n      \"x-dynamic\": \"false\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        \"x-file-name\": \"ChatPanel\",\n        \"x-line-number\": \"141\",\n        \"x-component\": \"div\",\n        \"x-id\": \"ChatPanel_141\",\n        \"x-dynamic\": \"false\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyDown: handleKeyDown,\n          placeholder: \"Ask a question...\",\n          disabled: isLoading,\n          className: \"flex-1\",\n          \"data-testid\": \"chat-input\",\n          \"x-file-name\": \"ChatPanel\",\n          \"x-line-number\": \"142\",\n          \"x-component\": \"Input\",\n          \"x-id\": \"ChatPanel_142\",\n          \"x-dynamic\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: sendMessage,\n          disabled: !input.trim() || isLoading,\n          size: \"icon\",\n          \"data-testid\": \"chat-send\",\n          \"x-file-name\": \"ChatPanel\",\n          \"x-line-number\": \"151\",\n          \"x-component\": \"Button\",\n          \"x-id\": \"ChatPanel_151\",\n          \"x-dynamic\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(Send, {\n            className: \"h-4 w-4\",\n            \"x-file-name\": \"ChatPanel\",\n            \"x-line-number\": \"157\",\n            \"x-component\": \"Send\",\n            \"x-id\": \"ChatPanel_157\",\n            \"x-dynamic\": \"false\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatPanel, \"foHr2J+cHZSURzETnoCns0MgVnE=\");\n_c = ChatPanel;\nvar _c;\n$RefreshReg$(_c, \"ChatPanel\");","map":{"version":3,"names":["useState","useRef","useEffect","MessageCircle","Send","X","Loader2","Button","Input","ScrollArea","cn","axios","toast","jsxDEV","_jsxDEV","API","process","env","REACT_APP_BACKEND_URL","ChatPanel","barcode","productName","isOpen","onToggle","_s","messages","setMessages","role","content","input","setInput","isLoading","setIsLoading","scrollRef","current","scrollTop","scrollHeight","sendMessage","trim","userMessage","prev","response","post","message","history","data","error","console","handleKeyDown","e","key","shiftKey","preventDefault","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","maxHeight","variant","size","ref","map","index","value","onChange","target","onKeyDown","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/utsavaggarwal/Documents/NutriDive/frontend/src/components/ChatPanel.jsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport { MessageCircle, Send, X, Loader2 } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { ScrollArea } from \"./ui/scroll-area\";\nimport { cn } from \"../lib/utils\";\nimport axios from \"axios\";\nimport { toast } from \"sonner\";\n\nconst API = `${process.env.REACT_APP_BACKEND_URL}/api`;\n\nexport default function ChatPanel({ barcode, productName, isOpen, onToggle }) {\n  const [messages, setMessages] = useState([\n    {\n      role: \"assistant\",\n      content: `Hi! I'm your food analysis assistant. Ask me anything about ${productName || \"this product\"}.`,\n    },\n  ]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  const sendMessage = async () => {\n    if (!input.trim() || isLoading) return;\n\n    const userMessage = { role: \"user\", content: input.trim() };\n    setMessages((prev) => [...prev, userMessage]);\n    setInput(\"\");\n    setIsLoading(true);\n\n    try {\n      const response = await axios.post(`${API}/chat`, {\n        barcode,\n        message: userMessage.content,\n        history: messages,\n      });\n\n      setMessages((prev) => [\n        ...prev,\n        { role: \"assistant\", content: response.data.response },\n      ]);\n    } catch (error) {\n      console.error(\"Chat error:\", error);\n      toast.error(\"Failed to get response. Please try again.\");\n      setMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"Sorry, I encountered an error. Please try again.\",\n        },\n      ]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  if (!isOpen) {\n    return (\n      <Button\n        onClick={onToggle}\n        className=\"fixed bottom-20 right-6 rounded-full h-14 w-14 shadow-lg z-[60]\"\n        data-testid=\"chat-toggle\"\n      >\n        <MessageCircle className=\"h-6 w-6\" />\n      </Button>\n    );\n  }\n\n  return (\n    <div\n      className=\"fixed bottom-6 right-6 w-96 max-w-[calc(100vw-3rem)] bg-card border rounded-xl shadow-2xl flex flex-col overflow-hidden z-50\"\n      style={{ height: \"500px\", maxHeight: \"calc(100vh - 8rem)\" }}\n      data-testid=\"chat-panel\"\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b bg-muted/50\">\n        <div className=\"flex items-center gap-2\">\n          <MessageCircle className=\"h-5 w-5 text-primary\" />\n          <span className=\"font-heading font-semibold\">Ask about this product</span>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={onToggle}\n          className=\"h-8 w-8\"\n          data-testid=\"chat-close\"\n        >\n          <X className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {/* Messages */}\n      <ScrollArea className=\"flex-1 p-4\" ref={scrollRef}>\n        <div className=\"space-y-4\">\n          {messages.map((message, index) => (\n            <div\n              key={index}\n              className={cn(\n                \"flex\",\n                message.role === \"user\" ? \"justify-end\" : \"justify-start\"\n              )}\n            >\n              <div\n                className={cn(\n                  \"max-w-[85%] rounded-2xl px-4 py-2\",\n                  message.role === \"user\"\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"bg-muted\"\n                )}\n                data-testid={`chat-message-${message.role}`}\n              >\n                <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n              </div>\n            </div>\n          ))}\n          {isLoading && (\n            <div className=\"flex justify-start\">\n              <div className=\"bg-muted rounded-2xl px-4 py-2\">\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n              </div>\n            </div>\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Input */}\n      <div className=\"p-4 border-t bg-muted/30\">\n        <div className=\"flex gap-2\">\n          <Input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Ask a question...\"\n            disabled={isLoading}\n            className=\"flex-1\"\n            data-testid=\"chat-input\"\n          />\n          <Button\n            onClick={sendMessage}\n            disabled={!input.trim() || isLoading}\n            size=\"icon\"\n            data-testid=\"chat-send\"\n          >\n            <Send className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}